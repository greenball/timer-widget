/**
 * Greenball/timerWidget published under MIT license.
 * @package https://github.com/greenball/timerWidget
 * 
 * The widget an extension for the Greenball/counterWidget it's required for this widget to work.
 * @package https://github.com/greenball/counterWidget
 */
(function(e,t){e.widget("ui.timerWidget",{options:{start:0,stop:0,step:1e3,text:"%timer%",addClass:"",position:"left top",round:null},_create:function(){if(!e.ui.hasOwnProperty("counterWidget")){console.error("Please install the Greenball/counterWidget you can get it @ https://github.com/greenball/counterWidget");return false}this._timerDiv=e("<div/>").addClass(this.widgetBaseClass+"Main "+this.options.addClass).prependTo(this.element);this._timerDiv.ready(e.proxy(this.position,this,false));this._timerDiv.html(this.options.text.replace("%timer%",this.options.start));this._timerDiv.counterWidget({start:this.options.start,stop:this.options.stop,text:this.options.text.replace("%timer%","%counter%"),interval:(Math.abs(this.options.start-this.options.stop)*1e3).toFixed(),step:this.options.step,round:this.options.round,create:e.proxy(function(){this._trigger("create",null,this)},this),fStart:e.proxy(function(){this._trigger("fStart",null,this)},this),refresh:e.proxy(function(){this._trigger("refresh",null,this)},this),fStop:e.proxy(function(){this._trigger("fStop",null,this)},this),destroy:e.proxy(function(){this.destroy(true)},this)});this._trigger("create",null,this)},start:function(){this._timerDiv.counterWidget("start")},stop:function(){this._timerDiv.counterWidget("stop")},position:function(e){this._timerDiv.position({my:e||this.options.position,at:e||this.options.position,of:this.element})},destroy:function(t){if(!t){this._timerDiv.counterWidget("destroy")}this._timerDiv.remove();e.Widget.prototype.destroy.call(this);this._trigger("destroy",null,this)}})})($)